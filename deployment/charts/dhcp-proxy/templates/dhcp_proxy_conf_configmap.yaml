apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "dhcp-proxy.fullname" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    {{- include "dhcp-proxy.labels" . | nindent 4 }}
data:
  config.json: |
    {
      "DHCP_FILESERVER": {{ .Values.dhcpProxyConfig.dhcpFileserver | quote }}, 
      "DHCP_MODE_PROXY": true, 
      "DHCP_SERVER_IP": {{ .Values.dhcpProxyConfig.dhcpFileserver | quote }},
      "DHCP_SUBNET": "255.255.0.0", 
      "MODE_DEBUG": "", 
      "USE_DHCP": true, 
      "USE_HTTP": false, 
      "USE_IPXE": true, 
      "USE_TFTP": false,
      "REST_PORT": {{ .Values.dhcpProxyConfig.restport }}
    }
