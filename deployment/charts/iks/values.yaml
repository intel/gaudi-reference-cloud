# Default values for IKS.
# This is a YAML-formatted file.

image:
  registry: internal-placeholder.com
  repository: intelcloud/iks
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion.
  tag:

# The region that this service is running in.
region: us-dev-1

computeServerAddr: dev.compute.us-dev-1.grpcapi.cloud.intel.com.kind.local:443

database:
  # The DNS name used to connect to the Postgres database.
  #service: postgres5327-lb-or-in.dbaas.intel.com
  service: us-dev-1-iks-db-postgresql
  name: main
  #port: "5433" #default is 5432
  arg: sslmode=disable
  # credentials path
  vaultCredentialsPath: controlplane/data/iks/database
  encryptionKeysPath: controlplane/data/iks/encryption_keys

dbSeed:
  # enable or disable DB seeding
  enabled: false
  # path to mounted vault secret with key|value map for processing db seed SQLs
  vaultSeedSecretPath: controlplane/data/iks/db_seed_data
  # key value map for processing db seed SQLs
  data:
    Ilb_environment: ""
    Ilb_usergroup: ""
    Ilb_customer_environment: ""
    Ilb_customer_usergroup: ""
    Availabilityzone: ""
    Vnet: ""
    Cp_cloudaccountid: "" # this key:value can be overridden from vault secret
    Region: ""

admin:
  adminVaultPath: controlplane/data/iks/admin_key

service:
  type: ClusterIP

log:
  # Zap log encoding (one of 'json' or 'console')
  encoder: "json"
  # Zap Level to configure the verbosity of logging. Can be one of 'debug', 'info', 'error', or any integer value > 0 which corresponds to custom debug levels of increasing verbosity.
  level: "info"
  # Zap Level at and above which stacktraces are captured (one of 'info', 'error', 'panic')
  stacktraceLevel: "error"

resources:
  requests:
    memory: "1Gi"
    cpu: "1000m"
  limits:
    memory: "1Gi"
    cpu: "2000m"

podAnnotations:

replicaCount: 1

# Interval of time between attempts to purge all instances.
purgeInstanceInterval: 1h

# Purge (permanently delete from database) instances marked for deletion more than this duration in the past.
purgeInstanceAge: 24h
domainSuffix: idcservice.net

autoscaling:
  enabled: false

ingress:
  enabled: false
  hosts: []

cognito:
  enabled: false
  endpoint: ""
