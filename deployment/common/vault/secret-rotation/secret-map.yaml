vault:
  secrets:
    kv:
     # Secrets from environmental variables - BMC default credentials
     - name: "baremetal-default-bmc-credentials"
       mount_point: "enrollment"
       path: "bmc/default"
       type: "environment"
       secrets:
        - name: "username"
          value: "DEFAULT_BMC_USERNAME"
          local_secret_file: "{local_secrets_base_dir}/bmc/default/username"
        - name: "password"
          value: "DEFAULT_BMC_PASSWD"
          local_secret_file: "{local_secrets_base_dir}/bmc/default/password"
     # Secrets from environmental variables - Men and Mice credentials
     - name: "baremetal-men-and-mice-credentials"
       mount_point: "enrollment"
       path: "menandmice"
       type: "environment"
       secrets:
        - name: "username"
          value: "MEN_AND_MICE_USERNAME"
          local_secret_file: "{local_secrets_base_dir}/menandmice/username"
        - name: "password"
          value: "MEN_AND_MICE_PASSWORD"
          local_secret_file: "{local_secrets_base_dir}/menandmice/password"
     # Secrets from environmental variables - Raven credentials
     - name: "baremetal-raven-credentials"
       mount_point: "controlplane"
       path: "{az}-bm-instance-operator/raven"
       type: "environment"
       secrets:
        - name: "username"
          value: "RAVEN_USERNAME"
          local_secret_file: "{local_secrets_base_dir}/{az}-bm-instance-operator/raven/username"
        - name: "password"
          value: "RAVEN_PASSWD"
          local_secret_file: "{local_secrets_base_dir}/{az}-bm-instance-operator/raven/password"
     # Secrets from environmental variables - cloud account enroll
     - name: "cloudAccount-enroll"
       mount_point: "controlplane"
       path: "cloudaccount-enroll/icp"
       type: "environment"
       secrets:
        - name: "username"
          value: "ICP_USERNAME"
          local_secret_file: "{local_secrets_base_dir}/cloudaccount-enroll/icp/username"
        - name: "password"
          value: "ICP_PASSWORD"
          local_secret_file: "{local_secrets_base_dir}/cloudaccount-enroll/icp/password"
     # secrets with ssh key-pair - SSH Proxy operator
     - name: "ssh-proxy-operator-ssh-key-pair"
       mount_point: "controlplane"
       path: "{az}-ssh-proxy-operator/ssh"
       type: "ssh"
       secrets:
        - name: "publickey"
          value: "get_ssh_public_key"
          local_secret_file: "{local_secrets_base_dir}/{az}-ssh-proxy-operator/ssh/id_rsa.pub"
        - name: "privatekey"
          value: "get_ssh_private_key"
          local_secret_file: "{local_secrets_base_dir}/{az}-ssh-proxy-operator/ssh/id_rsa"
     # secrets with ssh key-pair - Baremetal instance operator
     - name: "baremetal-instance-operator-ssh-key-pair"
       mount_point: "controlplane"
       path: "{az}-bm-instance-operator/ssh"
       type: "ssh"
       secrets:
        - name: "publickey"
          value: "get_ssh_public_key"
          local_secret_file: "{local_secrets_base_dir}/{az}-bm-instance-operator/ssh/id_rsa.pub"
        - name: "privatekey"
          value: "get_ssh_private_key"
          local_secret_file: "{local_secrets_base_dir}/{az}-bm-instance-operator/ssh/id_rsa"
     # Static secret - netbox
     - name: "baremetal-netbox-token"
       mount_point: "enrollment"
       path: "netbox"
       type: "static"
       secrets:
        - name: "token"
          value: "0123456789abcdef0123456789abcdef01234567"
          local_secret_file: "{local_secrets_base_dir}/netbox"
     # secrets from kubeconfigs
     # ToDo: get kubeconfigs from the rancher/harvester server for staging/production
     # enrollment kubeconfig
     - name: "baremetal-enrollment-az-kubeconfig"
       mount_point: "controlplane"
       path: "{region}/{az}/enrollment"
       type: "kubeconfig"
       sub_type: "enrollment"
       secrets:
        - name: "kubeconfig"
          value: "get_value_from_file"
          local_secret_file: "{local_secrets_base_dir}/{az}/enrollment/kubeconfig"
     - name: "harvester-kubeconfigs-instance-operator"
       mount_point: "controlplane"
       path: "{az}-vm-instance-operator-{harvester_cluster_id}/harvester_kubeconfig"
       sub_type: "kubeconfig"
       type: "harvester"
       secrets:
        - name: "kubeconfig"
          value: "get_value_from_file"
          local_secret_file: "{local_secrets_base_dir}/harvester-kubeconfig/{harvester_cluster_id}"
     - name: "harvester-kubeconfigs-instance-scheduler"
       mount_point: "controlplane"
       path: "{az}-vm-instance-scheduler/harvester_kubeconfig_{harvester_cluster_id}"
       sub_type: "kubeconfig"
       type: "harvester"
       secrets:
        - name: "kubeconfig"
          value: "get_value_from_file"
          local_secret_file: "{local_secrets_base_dir}/harvester-kubeconfig/{harvester_cluster_id}"
     - name: "harvester-men-and-mice"
       mount_point: "controlplane"
       path: "{az}-vm-instance-operator-{harvester_cluster_id}/mmws"
       sub_type: "mmws"
       type: "harvester"
       secrets:
        - name: "username"
          value: "get_value_from_file"
          local_secret_file: "{local_secrets_base_dir}/mmws_username"
        - name: "password"
          value: "get_value_from_file"
          local_secret_file: "{local_secrets_base_dir}/mmws_password"
     - name: "telemetry-otel-ca"
       mount_point: "public"
       path: "otel"
       type: "public-certificate"
       secrets:
        - name: "otel_ca_pem"
          value: "get_value_from_file"
          local_secret_file: "{pwd}/../../../go/pkg/observability/otel-ca.pem"
     - name: "cloudaccount-icp-ca"
       mount_point: "public"
       path: "icp"
       type: "public-certificate"
       secrets:
        - name: "icp_ca_pem"
          value: "get_value_from_file"
          local_secret_file: "{pwd}/../../../go/pkg/cloudaccount_enroll/apis-sandbox-intel-com.pem"
     - name: "authz-db-postgres"
       mount_point: "controlplane"
       path: "authz/database"
       secrets:
        - name: "dbuser"
          value: "get_uuid"
          local_secret_file: "{local_secrets_base_dir}/authz_db_user_password"
       type: "database"
     - name: "cloudaccount-db-postgres"
       mount_point: "controlplane"
       path: "cloudaccount/database"
       secrets:
        - name: "dbuser"
          value: "get_uuid"
          local_secret_file: "{local_secrets_base_dir}/cloudaccount_db_user_password"
       type: "database"
     - name: "productcatalog-db-postgres"
       mount_point: "controlplane"
       path: "productcatalog/database"
       secrets:
        - name: "dbuser"
          value: "get_uuid"
          local_secret_file: "{local_secrets_base_dir}/productcatalog_db_user_password"
       type: "database"
     - name: "cloudcredits-db-postgres"
       mount_point: "controlplane"
       path: "cloudcredits/database"
       secrets:
        - name: "dbuser"
          value: "get_uuid"
          local_secret_file: "{local_secrets_base_dir}/cloudcredits_db_user_password"
       type: "database"
     - name: "usage-db-postgres"
       mount_point: "controlplane"
       path: "usage/database"
       secrets:
        - name: "dbuser"
          value: "get_uuid"
          local_secret_file: "{local_secrets_base_dir}/usage_db_user_password"
     - name: "metering-db-postgres"
       mount_point: "controlplane"
       path: "metering/database"
       secrets:
        - name: "dbuser"
          value: "get_uuid"
          local_secret_file: "{local_secrets_base_dir}/metering_db_user_password"
     - name: "notification-db-postgres"
       mount_point: "controlplane"
       path: "notification-gateway/database"
       secrets:
        - name: "dbuser"
          value: "get_uuid"
          local_secret_file: "{local_secrets_base_dir}/notification_db_user_password"
       type: "database"
     - name: "billing-db-postgres"
       mount_point: "controlplane"
       path: "billing/database"
       secrets:
        - name: "dbuser"
          value: "get_uuid"
          local_secret_file: "{local_secrets_base_dir}/billing_db_user_password"
       type: "database"
     - name: "compute-api-db-postgres"
       mount_point: "controlplane"
       path: "{region}-compute-api-server/database"
       secrets:
        - name: "dbuser"
          value: "get_uuid"
          local_secret_file: "{local_secrets_base_dir}/{region}-compute_db_user_password"
       type: "database"
     - name: "enrollment-approle"
       mount_point: "enrollment"
       path: "approle"
       role_name: "enrollment-role"
       type: "approle"
       secrets:
        - name: "role_id"
          value: "get_approle_role_id"
          local_secret_file: "{local_secrets_base_dir}/{az}/enrollment/role_id"
        - name: "secret_id"
          value: "get_approle_secret_id"
          local_secret_file: "{local_secrets_base_dir}/{az}/enrollment/secret_id"

