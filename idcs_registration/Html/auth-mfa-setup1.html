

<!DOCTYPE html>
<html>
<head>    
  <title>$$CONSOLENAME$$</title>
  <link rel="icon" href="$$CDN$$/favicon.ico" />
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link
    href="$$CDN$$/static/css/main.css"
    rel="stylesheet"
    data-preload="true"
  />
  <script type="text/javascript" src="$$CDN$$/analytics.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</head>
<body>
  <div id="root" data-bs-theme="light" class="auth-mfa-setup-template">
    <div id="overlay"></div>
      <div id="ajax-loader">
        <div class="loader"></div>
     </div>
    <div class="container registration-container" role="main">
      <div class="registration-section">
        <div class="siteNavBrand d-flex text-center align-items-center gap-s6">
            <button id="backButton" class="btn btn-link" href="#" aria-label="Back">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"/>
              </svg>
              Back
            </button>
          </div>
        <div id="api" role="main"></div>
      </div>
    </div>
  </div>
</body>
</body>
<script>
  $(document).ready(function () {
    // Add styling class
    $("#continue").addClass('btn btn-primary w-100')
    $(".intro").addClass("registration-header")
    $("#api").addClass("registration-form")
    $("form").addClass("registration-form")
    $("#api").addClass("registration-form")
    $("form #attributeList").addClass("w-100")
    $("form .attr>ul").addClass("registration-form ps-0")
    $("#totpQrCodeControl").addClass("d-flex flex-column align-items-center gap-s4 p-s4")
    $("#totpQrCodeControl-title").addClass("w-100 fw-semibold text-center")
    $("#totpQrCodeControl a").addClass("btn btn-link w-100")
    $("#authenticatorInfoControl-collapse_text").addClass("btn btn-link w-100")

    // Append new elements
    $("#api>.intro").prepend("<span>Download and install an authenticator app from your app store. Use it to scan the QR code and authenticate your account.</span>")
    $("#api>.intro").prepend('<h1 class="h3">Authenticate with app</h1>')
    $("<span>Once youâ€™ve installed the authenticator app, you can use any of the methods below to continue with enrollment.</span>").insertAfter("#api>.intro")

    // Replacements

    // Move elements
    $("#totpQrCodeControl-title").insertBefore("#attributeList")
    $("#authenticatorInfoControl-collapse_text").appendTo("#totpQrCodeControl")

    // Custom Logic
    $("#backButton").on("click", function() { history.back(); return false; })  
    
    $(document).ajaxStart(function () {
          $("#ajax-loader, #overlay").fadeIn();
      });

      $(document).ajaxStop(function () {
          $("#ajax-loader, #overlay").fadeOut();
      });

      var checkLoadWap = setInterval(function() {
        if (typeof loadWap === "function") {
            clearInterval(checkLoadWap); // Stop checking once function is available
            loadWap(); // Call the function
        }
    }, 500); // Check every 500ms
  })
</script>
</html>
